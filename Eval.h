#pragma once
#include "Typedefs.h"
namespace hce {
    constexpr int PHASE_PIECE_VALUES[5] = {4,2,1,1,0};
    constexpr const static eval_t MATE_VALUE = 1048576;
    constexpr packed_eval_t bishop_pair = 146028888164ULL;
    constexpr packed_eval_t king_zone_attacks[] = {103079215123ULL, 167503790069ULL, 133144051703ULL, 98784313332ULL, 68719542257ULL};
    constexpr packed_eval_t mobility[] = {18ULL, 25769803781ULL, 30064771082ULL, 281470681743362ULL, 281423437168619ULL};
    constexpr packed_eval_t king_psts[] = {223338364829ULL, 343597449169ULL, 281260228411374ULL, 280993940439039ULL, 280968170569746ULL, 280766307106852ULL, 281019710177287ULL, 360777318262ULL, 455266598845ULL, 133144051706ULL, 281436322005003ULL, 281101314555939ULL, 281097019588668ULL, 197568495673ULL, 47244640301ULL, 416611893179ULL, 270583005154ULL, 25769803791ULL, 281135674294312ULL, 280968170569796ULL, 281019710177364ULL, 281234458542165ULL, 281221573640257ULL, 571230715853ULL, 281118494490618ULL, 281277408215072ULL, 281071249784893ULL, 280766307106905ULL, 280731947368553ULL, 281157149130851ULL, 450971566116ULL, 281298883051538ULL, 21474901984ULL, 281277408215078ULL, 281131379327033ULL, 280783486976086ULL, 280813551747174ULL, 281423437103204ULL, 120259084357ULL, 281376192462849ULL, 281290293182457ULL, 281401962266647ULL, 281127084359722ULL, 281024005144637ULL, 281011120242778ULL, 369367187544ULL, 60129542234ULL, 171798691844ULL, 292057841614ULL, 227633332218ULL, 281363307560972ULL, 280946695733296ULL, 280972465537103ULL, 68719476828ULL, 180388626510ULL, 313532678142ULL, 253403135899ULL, 219043397599ULL, 281148559196166ULL, 280581623513125ULL, 280598803382327ULL, 281251638411312ULL, 281221573640229ULL, 532576010093ULL};
    constexpr packed_eval_t piece_type_psts[][64] = {
            {5630702126602ULL, 5647881995789ULL, 5583457486355ULL, 5634997093921ULL, 5570572584497ULL, 5690831668760ULL, 5622112192017ULL, 5467493369363ULL, 5617817224715ULL, 5682241734154ULL, 5639292061212ULL, 5561982649898ULL, 5630702126622ULL, 5669356832270ULL, 5514738009627ULL, 5394478925344ULL, 5712306505229ULL, 5746666243593ULL, 5660766897690ULL, 5592047420952ULL, 5604932322837ULL, 5690831668768ULL, 5506148075071ULL, 5553392715305ULL, 5768141080109ULL, 5776731014683ULL, 5652176963097ULL, 5669356832280ULL, 5587752453662ULL, 5669356832293ULL, 5454608467534ULL, 5716601472519ULL, 5733781341713ULL, 5763846112804ULL, 5673651799591ULL, 5682241734165ULL, 5639292061211ULL, 5720896439847ULL, 5394478925420ULL, 5682241734164ULL, 5630702126601ULL, 5836860556778ULL, 5673651799590ULL, 5630702126623ULL, 5660766897703ULL, 5879810229781ULL, 5656471930418ULL, 5660766897702ULL, 5772436047325ULL, 5849745458634ULL, 5699421603352ULL, 5677946766888ULL, 5690831668803ULL, 5927054870023ULL, 5617817224740ULL, 5978594477528ULL, 5742371276228ULL, 5918464935335ULL, 5673651799580ULL, 5695126636085ULL, 5682241734207ULL, 5841155524131ULL, 5918464935468ULL, 5639292061199ULL},
            {2499670967229ULL, 2366526981052ULL, 2336462209990ULL, 2349347111883ULL, 2430951490518ULL, 2478196130770ULL, 2534030705620ULL, 2602750182354ULL, 2503965934528ULL, 2418066588609ULL, 2336462209988ULL, 2323577308111ULL, 2486786065359ULL, 2619930051539ULL, 2491081032679ULL, 2461016261601ULL, 2585570313158ULL, 2534030705601ULL, 2413771621315ULL, 2383706850258ULL, 2469606196187ULL, 2598455215060ULL, 2598455215086ULL, 2435246457841ULL, 2632814953407ULL, 2529735738309ULL, 2439541425096ULL, 2448131359692ULL, 2529735738322ULL, 2594160247759ULL, 2710124364769ULL, 2422361555947ULL, 2654289789878ULL, 2564095476663ULL, 2461016261566ULL, 2482491098053ULL, 2538325672893ULL, 2800318677948ULL, 2594160247779ULL, 2486786065378ULL, 2611340116918ULL, 2564095476652ULL, 2418066588593ULL, 2319282340806ULL, 2551210574778ULL, 2723009266618ULL, 2740189135824ULL, 2637109920727ULL, 2637109920682ULL, 2654289789853ULL, 2572685411220ULL, 2461016261558ULL, 2589865280440ULL, 3015067042737ULL, 2714419332040ULL, 2619930051541ULL, 2508260901803ULL, 2465311228839ULL, 2491081032602ULL, 2426656523184ULL, 2619930051508ULL, 2817498547117ULL, 2911987827636ULL, 2800318677961ULL},
            {1829656068582ULL, 1889785610747ULL, 1851130905082ULL, 1833951035897ULL, 1833951035906ULL, 1889785610762ULL, 1786706395624ULL, 1726576853504ULL, 1967095022077ULL, 1971389989356ULL, 1859720839677ULL, 1803886264837ULL, 1902670512644ULL, 2014339662328ULL, 1941325218288ULL, 1571958030857ULL, 1911260447214ULL, 1984274891240ULL, 1928440316413ULL, 1838246003207ULL, 1937030251005ULL, 1979979923963ULL, 1864015806968ULL, 1559073128967ULL, 1846835937785ULL, 1881195676162ULL, 1898375545345ULL, 2010044695034ULL, 1997159793160ULL, 2010044695022ULL, 1756641624575ULL, 1284195222043ULL, 1881195676154ULL, 1954210120190ULL, 1928440316420ULL, 1971389989369ULL, 1997159793141ULL, 1919850381815ULL, 1864015806963ULL, 1340029796885ULL, 1864015806977ULL, 2027224564209ULL, 1928440316414ULL, 1876900708859ULL, 1954210120192ULL, 2147483648504ULL, 1859720839667ULL, 1443109011973ULL, 1975684956643ULL, 2087354106357ULL, 1881195676145ULL, 1842540970495ULL, 1906965479931ULL, 2040109466106ULL, 1803886264828ULL, 1636382540286ULL, 1919850381773ULL, 1949915152862ULL, 1975684956649ULL, 1894080578027ULL, 1791001362949ULL, 1932735283724ULL, 1795296330218ULL, 1503238554104ULL},
            {1357209666032ULL, 1670742278652ULL, 1722281886209ULL, 1851130905113ULL, 1928440316445ULL, 1932735283725ULL, 1816771166706ULL, 966367642027ULL, 1773821493736ULL, 1748051690001ULL, 1859720839707ULL, 1954210120233ULL, 2035814498870ULL, 2194728288800ULL, 1967095022100ULL, 1133871366656ULL, 1722281886216ULL, 1872605741601ULL, 1992864825892ULL, 2091649073736ULL, 2181843386950ULL, 2332167242295ULL, 2147483648544ULL, 1567663063577ULL, 1833951035917ULL, 1984274891302ULL, 2057289335364ULL, 2108828942919ULL, 2357937046089ULL, 2319282340413ULL, 2220498092582ULL, 1760936591887ULL, 1833951035922ULL, 1979979924004ULL, 2117418877499ULL, 2194728288846ULL, 2117418877524ULL, 2521145803306ULL, 2078764171804ULL, 1988569858579ULL, 1911260447227ULL, 2005749727768ULL, 2027224564252ULL, 2095944041019ULL, 2327872275017ULL, 2568390443550ULL, 2486786064897ULL, 1614907703789ULL, 1795296330225ULL, 1864015806978ULL, 1975684956687ULL, 2070174237224ULL, 1992864825923ULL, 2267742732824ULL, 1954210120206ULL, 1335734829578ULL, 1567663063517ULL, 1846835937801ULL, 1838246003204ULL, 1911260447244ULL, 2121713844757ULL, 2070174237186ULL, 2057289335260ULL, 1275605287304ULL},
            {0ULL, 347892351203ULL, 317827580119ULL, 322122547430ULL, 386547056913ULL, 481036337542ULL, 987842478570ULL, 0ULL, 0ULL, 519691043064ULL, 463856468200ULL, 536870912243ULL, 592705487122ULL, 622770258345ULL, 1224065679856ULL, 0ULL, 0ULL, 476741370085ULL, 489626271956ULL, 545460846809ULL, 601295421686ULL, 833223655797ULL, 1069446857204ULL, 0ULL, 0ULL, 442381631731ULL, 511101108455ULL, 635655160021ULL, 635655160042ULL, 858993459542ULL, 1292785156517ULL, 0ULL, 0ULL, 554050781430ULL, 588410519770ULL, 670014898385ULL, 768799146204ULL, 863288426827ULL, 1146756268452ULL, 0ULL, 0ULL, 695784702174ULL, 549755814101ULL, 609885356243ULL, 717259538658ULL, 1030792151347ULL, 1017907249591ULL, 0ULL, 0ULL, 816043786463ULL, 665719931095ULL, 635655160036ULL, 730144440571ULL, 880468296059ULL, 472446403072ULL, 0ULL, 0ULL, 455266533569ULL, 485331304635ULL, 438086664391ULL, 541165879529ULL, 545460846945ULL, 257698038269ULL, 0ULL},
    };



    inline eval_t getEvalFromPacked (packed_eval_t packed, int phase) { // higher phase means closer to mg
        int mg = int(int16_t(packed >> 32 & 0xffff));
        int eg = int(int16_t(packed & 0xffff));
        return float(mg * phase + eg * (24 - phase)) / 24.0F;
    }
};