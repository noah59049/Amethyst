#pragma once
#include "Typedefs.h"
namespace hce {
    constexpr int PHASE_PIECE_VALUES[5] = {4,2,1,1,0};
    constexpr const static eval_t MATE_VALUE = 1048576;
    constexpr packed_eval_t king_zone_attacks[] = {107374182419ULL, 167503790069ULL, 133144051702ULL, 94489346037ULL, 68719542257ULL};
    constexpr packed_eval_t mobility[] = {18ULL, 25769803781ULL, 30064771082ULL, 3ULL, 281423437168620ULL};
    constexpr packed_eval_t king_psts[] = {227633332125ULL, 335007514577ULL, 281255933444079ULL, 280985350504447ULL, 280968170569746ULL, 280762012139556ULL, 281036890046470ULL, 360777318262ULL, 455266598845ULL, 133144051706ULL, 281432027037707ULL, 281105609523235ULL, 281109904490556ULL, 201863462969ULL, 47244640301ULL, 425201827771ULL, 270583005154ULL, 25769803791ULL, 281131379327017ULL, 280963875602500ULL, 281024005144661ULL, 281234458542165ULL, 281217278672962ULL, 571230715854ULL, 281122789457914ULL, 281273113247776ULL, 281071249784893ULL, 280766307106906ULL, 280736242335849ULL, 281161444098148ULL, 459561500709ULL, 281303178018834ULL, 21474901983ULL, 281277408215077ULL, 281131379327033ULL, 280787781943383ULL, 280826436649062ULL, 281436322005093ULL, 115964117063ULL, 281380487430146ULL, 281290293182457ULL, 281401962266647ULL, 281127084359722ULL, 281028300111933ULL, 281019710177371ULL, 377957122137ULL, 73014444122ULL, 180388626437ULL, 292057841614ULL, 223338364922ULL, 281363307560973ULL, 280946695733296ULL, 280976760504400ULL, 85899346012ULL, 184683593806ULL, 309237645312ULL, 249108168603ULL, 214748430302ULL, 281144264228870ULL, 280585918480422ULL, 280603098349623ULL, 281260228345904ULL, 281238753509413ULL, 532576010092ULL};
    constexpr packed_eval_t piece_type_psts[][64] = {
            {5596342388231ULL, 5604932322829ULL, 5540507813395ULL, 5592047420960ULL, 5523327944242ULL, 5647881995802ULL, 5579162519058ULL, 5420248729110ULL, 5579162519050ULL, 5639292061193ULL, 5600637355547ULL, 5523327944234ULL, 5592047420959ULL, 5630702126606ULL, 5476083303963ULL, 5355824219680ULL, 5669356832268ULL, 5708011537929ULL, 5622112192024ULL, 5549097747994ULL, 5570572584468ULL, 5652176963105ULL, 5467493369407ULL, 5523327944231ULL, 5729486374445ULL, 5733781341724ULL, 5609227290139ULL, 5630702126616ULL, 5549097747999ULL, 5630702126628ULL, 5424543696462ULL, 5682241734151ULL, 5695126636049ULL, 5720896439845ULL, 5630702126633ULL, 5639292061206ULL, 5600637355546ULL, 5686536701478ULL, 5355824219756ULL, 5656471930386ULL, 5596342388232ULL, 5798205851114ULL, 5634997093925ULL, 5592047420961ULL, 5622112192038ULL, 5849745458708ULL, 5617817224755ULL, 5634997093925ULL, 5729486374365ULL, 5806795785675ULL, 5656471930393ULL, 5634997093929ULL, 5652176963139ULL, 5888400164360ULL, 5574867551781ULL, 5944234739159ULL, 5703716570563ULL, 5879810229670ULL, 5630702126621ULL, 5652176963126ULL, 5639292061249ULL, 5793910883876ULL, 5871220295214ULL, 5592047420946ULL},
            {2499670967226ULL, 2366526981048ULL, 2336462209986ULL, 2349347111879ULL, 2430951490513ULL, 2478196130766ULL, 2534030705616ULL, 2598455215055ULL, 2503965934525ULL, 2418066588606ULL, 2332167242689ULL, 2319282340812ULL, 2482491098060ULL, 2615635084240ULL, 2486786065380ULL, 2469606196189ULL, 2585570313154ULL, 2534030705598ULL, 2413771621312ULL, 2383706850254ULL, 2469606196184ULL, 2602750182353ULL, 2602750182379ULL, 2443836392429ULL, 2632814953403ULL, 2529735738305ULL, 2443836392388ULL, 2443836392393ULL, 2529735738319ULL, 2598455215052ULL, 2718714299357ULL, 2426656523240ULL, 2649994822579ULL, 2559800509364ULL, 2465311228859ULL, 2478196130755ULL, 2538325672890ULL, 2804613645240ULL, 2598455215071ULL, 2495375999966ULL, 2611340116915ULL, 2564095476649ULL, 2418066588590ULL, 2314987373507ULL, 2542620640183ULL, 2727304233911ULL, 2744484103116ULL, 2632814953427ULL, 2632814953383ULL, 2645699855258ULL, 2564095476625ULL, 2456721294259ULL, 2581275345846ULL, 3019362010028ULL, 2710124364741ULL, 2632814953425ULL, 2508260901799ULL, 2465311228836ULL, 2486786065303ULL, 2418066588589ULL, 2615635084209ULL, 2821793514409ULL, 2911987827632ULL, 2796023710662ULL},
            {1971389989356ULL, 2022929596927ULL, 1984274891264ULL, 1971389989374ULL, 1967095022086ULL, 2018634629648ULL, 1919850381805ULL, 1855425872385ULL, 2095944040962ULL, 2104533975537ULL, 1997159793153ULL, 1937030251016ULL, 2040109466119ULL, 2147483648507ULL, 2074469204467ULL, 1683627180558ULL, 2048699400692ULL, 2113123910124ULL, 2065879269889ULL, 1975684956681ULL, 2070174237183ULL, 2113123910140ULL, 2001454760444ULL, 1687922147851ULL, 1979979923968ULL, 2018634629638ULL, 2031519531523ULL, 2143188681213ULL, 2134598746631ULL, 2151778615793ULL, 1889785610753ULL, 1421634175520ULL, 2018634629631ULL, 2091649073666ULL, 2065879269895ULL, 2104533975545ULL, 2130303779321ULL, 2057289335289ULL, 1988569858552ULL, 1464583848473ULL, 2001454760455ULL, 2160368550388ULL, 2065879269887ULL, 2014339662334ULL, 2083059139073ULL, 2284922601979ULL, 1992864825844ULL, 1576252998153ULL, 2113123910119ULL, 2224793059832ULL, 2018634629620ULL, 1971389989378ULL, 2044404433408ULL, 2168958484990ULL, 1941325218304ULL, 1778116461055ULL, 2061584302548ULL, 2083059139043ULL, 2108828942829ULL, 2035814498799ULL, 1919850381836ULL, 2070174237201ULL, 1919850381806ULL, 1632087572989ULL},
            {1352914698732ULL, 1666447311351ULL, 1717986918907ULL, 1842540970516ULL, 1924145349145ULL, 1928440316426ULL, 1808181232111ULL, 944892805539ULL, 1769526526434ULL, 1743756722701ULL, 1855425872404ULL, 1945620185635ULL, 2027224564272ULL, 2186138354202ULL, 1958505087504ULL, 1116691497468ULL, 1713691951618ULL, 1864015807003ULL, 1988569858587ULL, 2083059139137ULL, 2177548419648ULL, 2323577307696ULL, 2134598746649ULL, 1546188227094ULL, 1829656068616ULL, 1975684956703ULL, 2052994368061ULL, 2100239008320ULL, 2349347111490ULL, 2319282340405ULL, 2224793059871ULL, 1735166788107ULL, 1829656068620ULL, 1975684956701ULL, 2113123910196ULL, 2186138354247ULL, 2113123910221ULL, 2521145803299ULL, 2078764171798ULL, 1967095022096ULL, 1906965479927ULL, 2005749727761ULL, 2018634629652ULL, 2091649073716ULL, 2323577307714ULL, 2572685410839ULL, 2482491097596ULL, 1593432867306ULL, 1791001362923ULL, 1859720839678ULL, 1971389989384ULL, 2070174237220ULL, 1988569858620ULL, 2259152798227ULL, 1949915152906ULL, 1322849927688ULL, 1563368096219ULL, 1842540970502ULL, 1833951035904ULL, 1906965479943ULL, 2121713844752ULL, 2070174237183ULL, 2052994367962ULL, 1245540516227ULL},
            {0ULL, 347892351203ULL, 317827580119ULL, 322122547430ULL, 386547056913ULL, 476741370245ULL, 987842478569ULL, 0ULL, 0ULL, 515396075767ULL, 463856468199ULL, 532575944946ULL, 588410519825ULL, 622770258344ULL, 1224065679855ULL, 0ULL, 0ULL, 476741370084ULL, 489626271956ULL, 541165879512ULL, 601295421685ULL, 828928688500ULL, 1069446857203ULL, 0ULL, 0ULL, 442381631729ULL, 511101108454ULL, 635655160019ULL, 639950127337ULL, 863288426836ULL, 1292785156515ULL, 0ULL, 0ULL, 549755814133ULL, 588410519769ULL, 665719931088ULL, 768799146202ULL, 871878361417ULL, 1151051235747ULL, 0ULL, 0ULL, 691489734877ULL, 549755814101ULL, 605590388946ULL, 717259538657ULL, 1030792151345ULL, 1022202216885ULL, 0ULL, 0ULL, 811748819166ULL, 665719931094ULL, 635655160036ULL, 730144440570ULL, 876173328762ULL, 472446403070ULL, 0ULL, 0ULL, 455266533568ULL, 485331304634ULL, 438086664390ULL, 541165879529ULL, 545460846944ULL, 261993005564ULL, 0ULL},
    };


    inline eval_t getEvalFromPacked (packed_eval_t packed, int phase) { // higher phase means closer to mg
        int mg = int(int16_t(packed >> 32 & 0xffff));
        int eg = int(int16_t(packed & 0xffff));
        return float(mg * phase + eg * (24 - phase)) / 24.0F;
    }
};